<!DOCTYPE html> 
<html lang="en"> 
<head> 
	<meta charset="UTF-8" />
    <title>Math JetSet Go!</title>
	<script type="text/javascript" src="js/phaser.min.js"></script>
    <style type="text/css">
        body {
            margin: 0;
        }
    </style>
</head>
<body>

<script type="text/javascript">
// make game fill the whole browser width and height
var width = document.body.offsetWidth; 
var height = window.innerHeight;
console.log(width, height);
var game = new Phaser.Game(width, height, Phaser.AUTO, '', { preload: preload, create: create, update: update });
var player;
// load all assets
function preload() {
    game.load.image('space', 'assets/space.jpeg');
	game.load.spritesheet('jetsetman', 'assets/jetsetman.png', 50, 100);
}

// set up game at the start
function create() {
	game.physics.startSystem(Phaser.Physics.ARCADE);
	game.add.sprite(0, 0, 'space');
	
	player = game.add.sprite(50, 50, 'jetsetman');
	player.animations.add('float', [0, 1, 2, 3], 5, true);
	player.animations.add('blast', [4, 5, 6, 7], 5, true);
	game.physics.arcade.enable(player);
	
	player.body.bounce.y = 0.2;
    player.body.gravity.y = 300;
    player.body.collideWorldBounds = true;
	
	game.input.mouse.capture = true;
}

function update() {

	if(game.input.activePointer.isDown) {
		player.body.velocity.y -= 20;
		player.animations.play('blast');
	} else {
		player.animations.play('float');		
	}
}

</script>

</body>
</html>